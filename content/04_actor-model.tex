\section{Actor Model}

\subsection{Akka Actors - Java}

\begin{lstlisting}
public class Ping { final int count; ... }
public class NumberPrinter extends UntypedActor { // Actor kommuniziert Message-Objekte
  public void onReceive(final Object message) { // Nachricht ist ein Objekt
  	if (message instanceof Ping) { // Empfangsmethode: Run to Completion pro eingehende Nachricht
  	  int counter = ((Ping) message).count;
  	  if(counter == 5){ getContext().system().terminate(); } // stoppt nach Bearbeitung der aktuellen Message, alt. getContext().stop(actorRef);
      System.out.println(counter);
      var response = new Ping(counter + 1);
      getSender().tell(response, getSelf());
    } } }

ActorSystem system = ActorSystem.create("System");
ActorRef printer = system.actorOf(Props.create(NumberPrinter.class)); // Erzeugung per Reflection, Adresse eines Actors (immutable)
ActorRef sender = ActorRef.noSender(); // Sender der Message wird mitgegeben Methoden von Actor
for (int msg = 0; msg < 100; msg++) { printer.tell(msg, sender); } // Einfaches asynchrones Senden
system.shutdown(); // Gebe "End-Signal" an alle Actors
\end{lstlisting}

\subsubsection{Verteilte Actors}

\begin{lstlisting}
ActorSelection printer = system.actorSelection("akka.tcp://System@server:2552/user/printer"); // Actor Adresse, leichtgewichtiger als ActorRef, kann 0..n Actors umfassen (Broadcast mÃ¶glich, selektriert Teilbaum)
\end{lstlisting}
